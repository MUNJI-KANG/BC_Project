<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>관리자 - 이벤트 작성</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/common.css' %}">
    <link rel="stylesheet" href="{% static 'css/event_form.css' %}">
</head>

<body>

<div class="page-title-section">
    <h2 class="page-title">이벤트 글 작성</h2>
</div>

<div class="sub-container">
    <div class="sub-content">

        <div class="form-wrapper">

                    <!-- 파일 첨부 -->
            <div class="form-group full-row">
                <label class="form-label">첨부 파일</label>
                <div class="file-upload-wrapper">

                    <input type="file" id="realFile" name="file" class="file-hidden">

                    <span id="fileName" class="file-name">선택된 파일 없음</span>

                    <button type="button" class="btn file-btn" id="fakeFileBtn">파일 선택</button>

                </div>

            </div>
            <!-- 제목 -->
            <div class="form-group full-row">
                <label class="form-label">제목</label>
                <input type="text" name="title" class="form-input" placeholder="제목 입력">
            </div>

            <!-- 내용 -->
            <div class="form-group full-row">
                <label class="form-label">내용 / 설명</label>
                <textarea name="context" class="form-textarea" placeholder="본문 내용을 입력하세요"></textarea>
            </div>

            <!-- 공지 방식 선택 -->
            <div class="form-group full-row">
                <label class="form-label">공지 방식</label>

                <div class="notice-type">
                    <label><input type="radio" name="notice_type" value="always" checked> 상시 공지</label>
                    <label><input type="radio" name="notice_type" value="period"> 기간 공지</label>
                </div>
            </div>

            <!-- 날짜 영역 (초기 hidden) -->
            <div id="date-section" class="hidden">

                <div class="form-row">

                    <div class="form-group small">
                        <label class="form-label">시작 날짜</label>
                        <input type="datetime-local" name="start_date" class="form-input">
                    </div>

                    <div class="form-group small">
                        <label class="form-label">종료 날짜</label>
                        <input type="datetime-local" name="end_date" class="form-input">
                    </div>

                </div>

            </div>

            <!-- 버튼 -->
            <div class="btn-row">
                <button type="submit" class="btn btn-submit">등록</button>
                <button type="button" class="btn btn-list" onclick="history.back()">목록</button>
            </div>

        </div>

    </div>
</div>

<script>
    const realFile = document.getElementById('realFile');
    const fakeBtn = document.getElementById('fakeFileBtn');
    const fileNameTxt = document.getElementById('fileName');

    fakeBtn.addEventListener('click', () => {
        realFile.click();
    });

    realFile.addEventListener('change', () => {
        if (realFile.files.length > 0) {
            fileNameTxt.textContent = realFile.files[0].name;
        } else {
            fileNameTxt.textContent = "선택된 파일 없음";
        }
    });

 
    const dateSection = document.getElementById('date-section');
    const noticeType = document.getElementsByName('notice_type');

 
    noticeType.forEach(radio => {
        radio.addEventListener('change', (e) => {
            if (e.target.value === 'period') {
                dateSection.classList.remove('hidden');
            } else {
                dateSection.classList.add('hidden');
            }
        });
    });
</script>

</body>
</html>
